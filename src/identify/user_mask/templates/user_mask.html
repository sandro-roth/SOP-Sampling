<!doctype html>
<html lang='en'>
<head>
  <meta charset='utf-8'>
  <title>User Mask</title>

  <!-- Pico CSS and HTMX from your static folder -->
  <link rel='stylesheet' href="{{ url_for('static', filename='pico.min.css') }}">
  <script src="{{ url_for('static', filename='htmx.min.js') }}"></script>

  <style>
    body.container {
      max-width: 800px;
      margin: 2rem auto;
    }

    .box-header {
      border: 1px solid #ccc;
      padding: 0.8rem 1rem;
      border-radius: 4px;
      margin-bottom: 1rem;
      background: var(--pico-background-color);
    }

    .box-title {
      font-weight: 600;
      margin: 0 0 0.4rem 0;
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    .full-width {
      grid-column: 1 / -1;
    }

    .error-list {
      border: 1px solid #c00;
      background: #fdd;
      padding: 0.75rem 1rem;
      border-radius: 4px;
      margin-bottom: 1rem;
    }

    .success-box {
      border: 1px solid #0a0;
      background: #e7ffe7;
      padding: 0.75rem 1rem;
      border-radius: 4px;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body class='container'>

  <h1>User Mask</h1>

  <!-- Error messages -->
  {% if errors %}
    <div class='error-list'>
      <ul>
        {% for e in errors %}
          <li>{{ e }}</li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}

  <!-- Success message -->
  {% if success_message %}
    <div class='success-box'>
      {{ success_message }}
    </div>
  {% endif %}

  <form method='post' action="{{ url_for('user_mask') }}">
    <div class='box-header'>
      <div class='box-title'>User information</div>

      <div class='form-grid'>
        <!-- First name -->
        <div>
          <label for='first_name'>First name</label>
          <input
            type='text'
            id='first_name'
            name='first_name'
            value="{{ form_data.first_name }}"
            required
          >
        </div>

        <!-- Last name -->
        <div>
          <label for='last_name'>Last name</label>
          <input
            type='text'
            id='last_name'
            name='last_name'
            value="{{ form_data.last_name }}"
            required
          >
        </div>

        <!-- Function dropdown -->
        <div class='full-width'>
          <label for='function'>Function</label>
          <select id='function' name='function' required>
            <option value=''>Please select</option>
            {% for f in functions %}
              <option value="{{ f }}"
                {% if form_data.function == f %}selected{% endif %}>
                {{ f }}
              </option>
            {% endfor %}
          </select>
        </div>

        <!-- Years in function -->
        <div class='full-width'>
          <label for='years_in_function'>Years in function</label>
          <input
            type='number'
            id='years_in_function'
            name='years_in_function'
            min='0'
            step='1'
            value="{{ form_data.years_in_function }}"
            required
          >
        </div>
      </div>
    </div>

    <button type='submit'>Save user</button>
  </form>

</body>
</html>
